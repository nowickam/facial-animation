{"ast":null,"code":"!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"prop-types\"), require(\"react\")) : \"function\" == typeof define && define.amd ? define([,], t) : \"object\" == typeof exports ? exports.ReactMic = t(require(\"prop-types\"), require(\"react\")) : e.ReactMic = t(e.PropTypes, e.React);\n}(window, function (e, t) {\n  return function (e) {\n    var t = {};\n\n    function n(r) {\n      if (t[r]) return t[r].exports;\n      var o = t[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, n), o.l = !0, o.exports;\n    }\n\n    return n.m = e, n.c = t, n.d = function (e, t, r) {\n      n.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: r\n      });\n    }, n.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n.t = function (e, t) {\n      if (1 & t && (e = n(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var r = Object.create(null);\n      if (n.r(r), Object.defineProperty(r, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var o in e) {\n        n.d(r, o, function (t) {\n          return e[t];\n        }.bind(null, o));\n      }\n      return r;\n    }, n.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return n.d(t, \"a\", t), t;\n    }, n.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, n.p = \"\", n(n.s = 2);\n  }([function (t, n) {\n    t.exports = e;\n  }, function (e, n) {\n    e.exports = t;\n  }, function (e, t, n) {\n    e.exports = n(3);\n  }, function (e, t, n) {\n    \"use strict\";\n\n    n.r(t);\n    var r,\n        o,\n        i,\n        a = n(1),\n        c = n.n(a),\n        u = n(0),\n        s = new (window.AudioContext || window.webkitAudioContext)(),\n        l = s.createAnalyser(),\n        f = {\n      getAudioContext: function getAudioContext() {\n        return s;\n      },\n      getAnalyser: function getAnalyser() {\n        return l;\n      },\n      resetAnalyser: function resetAnalyser() {\n        l = s.createAnalyser();\n      },\n      decodeAudioData: function decodeAudioData() {\n        s.decodeAudioData(audioData).then(function (e) {});\n      }\n    };\n\n    function p(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    var d,\n        v,\n        y,\n        h,\n        b,\n        g,\n        m,\n        S,\n        w = [];\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\n    var C,\n        R = function () {\n      function e(t, n, a, c, u, s) {\n        var l,\n            p,\n            C,\n            R = this;\n        !function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, e), C = function C() {\n          if (d = Date.now(), i) {\n            if (o && \"suspended\" === o.state && o.resume(), i && \"paused\" === i.state) return void i.resume();\n            o && i && \"inactive\" === i.state && (i.start(10), o.createMediaStreamSource(v).connect(r), h && h());\n          } else navigator.mediaDevices ? (console.log(\"getUserMedia supported.\"), navigator.mediaDevices.getUserMedia(S).then(function (e) {\n            v = e, i = MediaRecorder.isTypeSupported(y.mimeType) ? new MediaRecorder(e, y) : new MediaRecorder(e), h && h(), i.onstop = R.onStop, i.ondataavailable = function (e) {\n              w.push(e.data), m && m(e.data);\n            }, (o = f.getAudioContext()).resume().then(function () {\n              r = f.getAnalyser(), i.start(10), o.createMediaStreamSource(v).connect(r);\n            });\n          })) : alert(\"Your browser does not support audio recording\");\n        }, (p = \"startRecording\") in (l = this) ? Object.defineProperty(l, p, {\n          value: C,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : l[p] = C;\n        var A = s.echoCancellation,\n            x = s.autoGainControl,\n            M = s.noiseSuppression,\n            P = s.channelCount;\n        h = t, b = n, g = a, m = c, y = u, S = {\n          audio: {\n            echoCancellation: A,\n            autoGainControl: x,\n            noiseSuppression: M,\n            channelCount: P\n          },\n          video: !1\n        };\n      }\n\n      var t, n, a;\n      return t = e, (n = [{\n        key: \"stopRecording\",\n        value: function value() {\n          i && \"inactive\" !== i.state && (i.stop(), v.getAudioTracks().forEach(function (e) {\n            e.stop();\n          }), i = null, f.resetAnalyser());\n        }\n      }, {\n        key: \"onStop\",\n        value: function value() {\n          var e = new Blob(w, {\n            type: y.mimeType\n          });\n          w = [];\n          var t = {\n            blob: e,\n            startTime: d,\n            stopTime: Date.now(),\n            options: y,\n            blobURL: window.URL.createObjectURL(e)\n          };\n          b && b(t), g && g(t);\n        }\n      }]) && p(t.prototype, n), a && p(t, a), e;\n    }(),\n        A = {\n      create: function create(e) {\n        var t = f.getAudioContext(),\n            n = f.getAnalyser();\n\n        if (void 0 === C) {\n          var r = t.createMediaElementSource(e);\n          r.connect(n), C = r;\n        }\n\n        n.connect(t.destination);\n      }\n    },\n        x = {\n      visualizeSineWave: function visualizeSineWave(e, t, n, r, o, i) {\n        var a = f.getAnalyser(),\n            c = a.fftSize,\n            u = new Uint8Array(c);\n        e.clearRect(0, 0, n, r), function s() {\n          requestAnimationFrame(s), (a = f.getAnalyser()).getByteTimeDomainData(u), e.fillStyle = o, e.fillRect(0, 0, n, r), e.lineWidth = 2, e.strokeStyle = i, e.beginPath();\n\n          for (var l = 1 * n / c, p = 0, d = 0; d < c; d++) {\n            var v = u[d] / 128 * r / 2;\n            0 === d ? e.moveTo(p, v) : e.lineTo(p, v), p += l;\n          }\n\n          e.lineTo(t.width, t.height / 2), e.stroke();\n        }();\n      },\n      visualizeFrequencyBars: function visualizeFrequencyBars(e, t, n, r, o, i) {\n        var a = this,\n            c = f.getAnalyser();\n        c.fftSize = 256;\n        var u = c.frequencyBinCount,\n            s = new Uint8Array(u);\n        e.clearRect(0, 0, n, r), function t() {\n          requestAnimationFrame(t), (c = f.getAnalyser()).getByteFrequencyData(s), e.fillStyle = o, e.fillRect(0, 0, n, r);\n\n          for (var l, p = n / u * 2.5, d = 0, v = 0; v < u; v++) {\n            l = s[v];\n            a.hexToRgb(i);\n            e.fillStyle = i, e.fillRect(d, r - l / 2, p, l / 2), d += p + 1;\n          }\n        }();\n      },\n      visualizeFrequencyCircles: function visualizeFrequencyCircles(e, t, n, r, o, i) {\n        var a = f.getAnalyser();\n        a.fftSize = 32;\n        var c = a.frequencyBinCount,\n            u = new Uint8Array(c);\n        e.clearRect(0, 0, n, r), function t() {\n          requestAnimationFrame(t), (a = f.getAnalyser()).getByteFrequencyData(u);\n\n          for (var s = new Uint8Array(c / 3), l = 0; l < c; l += 3) {\n            for (var p = 0, d = 0; d < 3; d++) {\n              p += u[l + d];\n            }\n\n            s[l / 3] = p / 3;\n          }\n\n          e.clearRect(0, 0, n, r), e.beginPath(), e.arc(n / 2, r / 2, Math.min(r, n) / 2, 0, 2 * Math.PI), e.fillStyle = o, e.fill();\n          var v = Math.min(r, n) / 2 / s.length;\n          e.strokeStyle = i;\n\n          for (var y = 0; y < s.length; y++) {\n            e.beginPath();\n            var h = v * y + v * (s[y] / 128);\n            e.arc(n / 2, r / 2, h, 0, 2 * Math.PI), e.stroke();\n          }\n        }();\n      },\n      hexToRgb: function hexToRgb(e) {\n        var t = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);\n        return t ? {\n          r: parseInt(t[1], 16),\n          g: parseInt(t[2], 16),\n          b: parseInt(t[3], 16)\n        } : null;\n      }\n    };\n\n    function M(e) {\n      return (M = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && \"function\" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? \"symbol\" : typeof e;\n      })(e);\n    }\n\n    function P(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function T(e) {\n      return (T = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function j(e) {\n      if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n      return e;\n    }\n\n    function k(e, t) {\n      return (k = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    var O = function (e) {\n      function t(e) {\n        var n, r, o, i, a, u;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError(\"Cannot call a class as a function\");\n        }(this, t), r = this, o = T(t).call(this, e), n = !o || \"object\" !== M(o) && \"function\" != typeof o ? j(r) : o, i = j(n), u = function u() {\n          var e = n.props,\n              t = e.backgroundColor,\n              r = e.strokeColor,\n              o = e.width,\n              i = e.height,\n              a = e.visualSetting,\n              c = n.state,\n              u = c.canvas,\n              s = c.canvasCtx;\n          \"sinewave\" === a ? x.visualizeSineWave(s, u, o, i, t, r) : \"frequencyBars\" === a ? x.visualizeFrequencyBars(s, u, o, i, t, r) : \"frequencyCircles\" === a && x.visualizeFrequencyCircles(s, u, o, i, t, r);\n        }, (a = \"visualize\") in i ? Object.defineProperty(i, a, {\n          value: u,\n          enumerable: !0,\n          configurable: !0,\n          writable: !0\n        }) : i[a] = u, n.visualizerRef = c.a.createRef(), n.state = {\n          microphoneRecorder: null,\n          canvas: null,\n          canvasCtx: null\n        }, n;\n      }\n\n      var n, r, o;\n      return function (e, t) {\n        if (\"function\" != typeof t && null !== t) throw new TypeError(\"Super expression must either be null or a function\");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && k(e, t);\n      }(t, e), n = t, (r = [{\n        key: \"componentDidUpdate\",\n        value: function value(e) {\n          var t = this.props,\n              n = t.record,\n              r = t.onStop,\n              o = this.state.microphoneRecorder;\n          e.record !== n && (n ? o && o.startRecording() : o && (o.stopRecording(r), this.clear()));\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function value() {\n          var e = this,\n              t = this.props,\n              n = t.onSave,\n              r = t.onStop,\n              o = t.onStart,\n              i = t.onData,\n              a = t.audioElem,\n              c = t.audioBitsPerSecond,\n              u = t.echoCancellation,\n              s = t.autoGainControl,\n              l = t.noiseSuppression,\n              f = (t.channelCount, t.mimeType),\n              p = this.visualizerRef.current,\n              d = p.getContext(\"2d\"),\n              v = {\n            audioBitsPerSecond: c,\n            mimeType: f\n          },\n              y = {\n            echoCancellation: u,\n            autoGainControl: s,\n            noiseSuppression: l\n          };\n          a ? (A.create(a), this.setState({\n            canvas: p,\n            canvasCtx: d\n          }, function () {\n            e.visualize();\n          })) : this.setState({\n            microphoneRecorder: new R(o, r, n, i, v, y),\n            canvas: p,\n            canvasCtx: d\n          }, function () {\n            e.visualize();\n          });\n        }\n      }, {\n        key: \"clear\",\n        value: function value() {\n          var e = this.props,\n              t = e.width,\n              n = e.height;\n          this.state.canvasCtx.clearRect(0, 0, t, n);\n        }\n      }, {\n        key: \"render\",\n        value: function value() {\n          var e = this.props,\n              t = e.width,\n              n = e.height;\n          return c.a.createElement(\"canvas\", {\n            ref: this.visualizerRef,\n            height: n,\n            width: t,\n            className: this.props.className\n          });\n        }\n      }]) && P(n.prototype, r), o && P(n, o), t;\n    }(a.Component);\n\n    O.propTypes = {\n      backgroundColor: u.string,\n      strokeColor: u.string,\n      className: u.string,\n      audioBitsPerSecond: u.number,\n      mimeType: u.string,\n      height: u.number,\n      record: u.bool.isRequired,\n      onStop: u.func,\n      onData: u.func,\n      onSave: u.func\n    }, O.defaultProps = {\n      backgroundColor: \"rgba(255, 255, 255, 0.5)\",\n      strokeColor: \"#000000\",\n      className: \"visualizer\",\n      audioBitsPerSecond: 128e3,\n      mimeType: \"audio/webm;codecs=opus\",\n      record: !1,\n      width: 640,\n      height: 100,\n      visualSetting: \"sinewave\",\n      echoCancellation: !1,\n      autoGainControl: !1,\n      noiseSuppression: !1,\n      channelCount: 2\n    }, n.d(t, \"ReactMic\", function () {\n      return O;\n    });\n  }]);\n});","map":{"version":3,"sources":["/home/filip/Desktop/facial-animation/frontend/node_modules/react-mic/dist/index.js"],"names":["e","t","exports","module","require","define","amd","ReactMic","PropTypes","React","window","n","r","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","a","u","AudioContext","webkitAudioContext","createAnalyser","f","getAudioContext","getAnalyser","resetAnalyser","decodeAudioData","audioData","then","length","configurable","writable","key","v","y","h","b","g","S","w","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","C","R","TypeError","Date","now","state","resume","start","createMediaStreamSource","connect","mediaDevices","console","log","MediaRecorder","isTypeSupported","mimeType","onstop","onStop","ondataavailable","push","data","alert","A","echoCancellation","x","autoGainControl","M","noiseSuppression","P","channelCount","audio","video","stop","getAudioTracks","forEach","Blob","type","blob","startTime","stopTime","options","blobURL","URL","createObjectURL","createMediaElementSource","destination","visualizeSineWave","fftSize","Uint8Array","clearRect","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","strokeStyle","beginPath","moveTo","lineTo","width","height","stroke","visualizeFrequencyBars","frequencyBinCount","getByteFrequencyData","hexToRgb","visualizeFrequencyCircles","arc","Math","min","PI","fill","exec","parseInt","iterator","constructor","T","setPrototypeOf","getPrototypeOf","__proto__","j","ReferenceError","k","O","props","backgroundColor","strokeColor","visualSetting","canvas","canvasCtx","visualizerRef","createRef","microphoneRecorder","record","startRecording","stopRecording","clear","onSave","onStart","onData","audioElem","audioBitsPerSecond","current","getContext","setState","visualize","createElement","ref","className","Component","propTypes","string","number","bool","isRequired","func","defaultProps"],"mappings":"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","sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"prop-types\"),require(\"react\")):\"function\"==typeof define&&define.amd?define([,],t):\"object\"==typeof exports?exports.ReactMic=t(require(\"prop-types\"),require(\"react\")):e.ReactMic=t(e.PropTypes,e.React)}(window,(function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){\"use strict\";n.r(t);var r,o,i,a=n(1),c=n.n(a),u=n(0),s=new(window.AudioContext||window.webkitAudioContext),l=s.createAnalyser(),f={getAudioContext:function(){return s},getAnalyser:function(){return l},resetAnalyser:function(){l=s.createAnalyser()},decodeAudioData:function(){s.decodeAudioData(audioData).then((function(e){}))}};function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d,v,y,h,b,g,m,S,w=[];navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var C,R=function(){function e(t,n,a,c,u,s){var l,p,C,R=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),C=function(){if(d=Date.now(),i){if(o&&\"suspended\"===o.state&&o.resume(),i&&\"paused\"===i.state)return void i.resume();o&&i&&\"inactive\"===i.state&&(i.start(10),o.createMediaStreamSource(v).connect(r),h&&h())}else navigator.mediaDevices?(console.log(\"getUserMedia supported.\"),navigator.mediaDevices.getUserMedia(S).then((function(e){v=e,i=MediaRecorder.isTypeSupported(y.mimeType)?new MediaRecorder(e,y):new MediaRecorder(e),h&&h(),i.onstop=R.onStop,i.ondataavailable=function(e){w.push(e.data),m&&m(e.data)},(o=f.getAudioContext()).resume().then((function(){r=f.getAnalyser(),i.start(10),o.createMediaStreamSource(v).connect(r)}))}))):alert(\"Your browser does not support audio recording\")},(p=\"startRecording\")in(l=this)?Object.defineProperty(l,p,{value:C,enumerable:!0,configurable:!0,writable:!0}):l[p]=C;var A=s.echoCancellation,x=s.autoGainControl,M=s.noiseSuppression,P=s.channelCount;h=t,b=n,g=a,m=c,y=u,S={audio:{echoCancellation:A,autoGainControl:x,noiseSuppression:M,channelCount:P},video:!1}}var t,n,a;return t=e,(n=[{key:\"stopRecording\",value:function(){i&&\"inactive\"!==i.state&&(i.stop(),v.getAudioTracks().forEach((function(e){e.stop()})),i=null,f.resetAnalyser())}},{key:\"onStop\",value:function(){var e=new Blob(w,{type:y.mimeType});w=[];var t={blob:e,startTime:d,stopTime:Date.now(),options:y,blobURL:window.URL.createObjectURL(e)};b&&b(t),g&&g(t)}}])&&p(t.prototype,n),a&&p(t,a),e}(),A={create:function(e){var t=f.getAudioContext(),n=f.getAnalyser();if(void 0===C){var r=t.createMediaElementSource(e);r.connect(n),C=r}n.connect(t.destination)}},x={visualizeSineWave:function(e,t,n,r,o,i){var a=f.getAnalyser(),c=a.fftSize,u=new Uint8Array(c);e.clearRect(0,0,n,r),function s(){requestAnimationFrame(s),(a=f.getAnalyser()).getByteTimeDomainData(u),e.fillStyle=o,e.fillRect(0,0,n,r),e.lineWidth=2,e.strokeStyle=i,e.beginPath();for(var l=1*n/c,p=0,d=0;d<c;d++){var v=u[d]/128*r/2;0===d?e.moveTo(p,v):e.lineTo(p,v),p+=l}e.lineTo(t.width,t.height/2),e.stroke()}()},visualizeFrequencyBars:function(e,t,n,r,o,i){var a=this,c=f.getAnalyser();c.fftSize=256;var u=c.frequencyBinCount,s=new Uint8Array(u);e.clearRect(0,0,n,r),function t(){requestAnimationFrame(t),(c=f.getAnalyser()).getByteFrequencyData(s),e.fillStyle=o,e.fillRect(0,0,n,r);for(var l,p=n/u*2.5,d=0,v=0;v<u;v++){l=s[v];a.hexToRgb(i);e.fillStyle=i,e.fillRect(d,r-l/2,p,l/2),d+=p+1}}()},visualizeFrequencyCircles:function(e,t,n,r,o,i){var a=f.getAnalyser();a.fftSize=32;var c=a.frequencyBinCount,u=new Uint8Array(c);e.clearRect(0,0,n,r),function t(){requestAnimationFrame(t),(a=f.getAnalyser()).getByteFrequencyData(u);for(var s=new Uint8Array(c/3),l=0;l<c;l+=3){for(var p=0,d=0;d<3;d++)p+=u[l+d];s[l/3]=p/3}e.clearRect(0,0,n,r),e.beginPath(),e.arc(n/2,r/2,Math.min(r,n)/2,0,2*Math.PI),e.fillStyle=o,e.fill();var v=Math.min(r,n)/2/s.length;e.strokeStyle=i;for(var y=0;y<s.length;y++){e.beginPath();var h=v*y+v*(s[y]/128);e.arc(n/2,r/2,h,0,2*Math.PI),e.stroke()}}()},hexToRgb:function(e){var t=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}};function M(e){return(M=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(e){var n,r,o,i,a,u;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),r=this,o=T(t).call(this,e),n=!o||\"object\"!==M(o)&&\"function\"!=typeof o?j(r):o,i=j(n),u=function(){var e=n.props,t=e.backgroundColor,r=e.strokeColor,o=e.width,i=e.height,a=e.visualSetting,c=n.state,u=c.canvas,s=c.canvasCtx;\"sinewave\"===a?x.visualizeSineWave(s,u,o,i,t,r):\"frequencyBars\"===a?x.visualizeFrequencyBars(s,u,o,i,t,r):\"frequencyCircles\"===a&&x.visualizeFrequencyCircles(s,u,o,i,t,r)},(a=\"visualize\")in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u,n.visualizerRef=c.a.createRef(),n.state={microphoneRecorder:null,canvas:null,canvasCtx:null},n}var n,r,o;return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,e),n=t,(r=[{key:\"componentDidUpdate\",value:function(e){var t=this.props,n=t.record,r=t.onStop,o=this.state.microphoneRecorder;e.record!==n&&(n?o&&o.startRecording():o&&(o.stopRecording(r),this.clear()))}},{key:\"componentDidMount\",value:function(){var e=this,t=this.props,n=t.onSave,r=t.onStop,o=t.onStart,i=t.onData,a=t.audioElem,c=t.audioBitsPerSecond,u=t.echoCancellation,s=t.autoGainControl,l=t.noiseSuppression,f=(t.channelCount,t.mimeType),p=this.visualizerRef.current,d=p.getContext(\"2d\"),v={audioBitsPerSecond:c,mimeType:f},y={echoCancellation:u,autoGainControl:s,noiseSuppression:l};a?(A.create(a),this.setState({canvas:p,canvasCtx:d},(function(){e.visualize()}))):this.setState({microphoneRecorder:new R(o,r,n,i,v,y),canvas:p,canvasCtx:d},(function(){e.visualize()}))}},{key:\"clear\",value:function(){var e=this.props,t=e.width,n=e.height;this.state.canvasCtx.clearRect(0,0,t,n)}},{key:\"render\",value:function(){var e=this.props,t=e.width,n=e.height;return c.a.createElement(\"canvas\",{ref:this.visualizerRef,height:n,width:t,className:this.props.className})}}])&&P(n.prototype,r),o&&P(n,o),t}(a.Component);O.propTypes={backgroundColor:u.string,strokeColor:u.string,className:u.string,audioBitsPerSecond:u.number,mimeType:u.string,height:u.number,record:u.bool.isRequired,onStop:u.func,onData:u.func,onSave:u.func},O.defaultProps={backgroundColor:\"rgba(255, 255, 255, 0.5)\",strokeColor:\"#000000\",className:\"visualizer\",audioBitsPerSecond:128e3,mimeType:\"audio/webm;codecs=opus\",record:!1,width:640,height:100,visualSetting:\"sinewave\",echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1,channelCount:2},n.d(t,\"ReactMic\",(function(){return O}))}])}));"]},"metadata":{},"sourceType":"script"}